- 웹을 개발할 때 스스로 코드를 작성하기 보단 이미 설치된 소프트웨어를 사용하는 것이 편하다. 
- 예를 들어 디렉토리를 조회하고 파일들을 나열하고 출력하는 코드를 직접 작성하기 보다는 흔히 아는 ls 라는 명령어를 쓰는게 더 편하다.
- 웹 어플 제작용 언어는 시스템에 내장되어 있는 프로그램들을 호출할 수 있는데, 예를 들어 php의 system, NodeJs의 child_process, 파이썬의 os.system이 있다.
ex) system("cat/etc/passwd")를 호출하면 셸 프로그램으로 실제 실행한 것과 같이 된다.
- 이러한 행위로 명령어를 실행해주는 함수로 공격하는 방식을 Command Injection이라고 부른다.
--- 
- Command Injection은 명령어를 실행하는 함수에 이용자가 임의의 인자를 전달할 수 있을 때 발생한다. 
- 예를 들어 애플리케이션에서 입력한 임의의 ip에 ping을 전송하고 싶다면 os.system("ping [user-input]") 을 사용해주면 된다. 
- 그러나 이러한 함수를 사용할 때 **이용자의 입력을 제대로 검사**하지 않으면 임의의 명령어가 실행될 수도 있다. 
- 이는 리눅스 셸 프로그램이 지원하는 다양한 메타 문자 때문이다. 
![[Pasted image 20240429154218.png]]
- 여기서 주목해야 할 점은 &&, ;, |등을 사용하면 여러 개의 명령어를 연속으로 실행시킬 수 있다. 
- ![[Pasted image 20240502183235.png]]
- ![[Pasted image 20240502183252.png]]
- ![[Pasted image 20240502183303.png]]
- 